"use strict";(self.webpackChunkbookmark_products=self.webpackChunkbookmark_products||[]).push([[435],{5435:(L,g,i)=>{i.r(g),i.d(g,{MainModule:()=>J});var a=i(9808),l=i(4912),m=i(3138),u=i(5861),t=i(1223),f=i(6805),h=i(2961),d=i(6916),p=i(520);let P=(()=>{class n{constructor(o){var e;this.http=o,this.url=null===(e=null==d.N?void 0:d.N.services)||void 0===e?void 0:e.mocky}getProducts(){var o=this;return(0,u.Z)(function*(){var e;return(null===(e=yield function v(n,r){const o="object"==typeof r;return new Promise((e,s)=>{const c=new h.Hp({next:N=>{e(N),c.unsubscribe()},error:s,complete:()=>{o?e(r.defaultValue):s(new f.K)}});n.subscribe(c)})}(o.http.get(`${o.url}/66063904-d43c-49ed-9329-d69ad44b885e`)))||void 0===e?void 0:e.products)||[]})()}}return n.\u0275fac=function(o){return new(o||n)(t.LFG(p.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var y=i(1299),C=i(605),M=i(5172);function x(n,r){1&n&&t._UZ(0,"loader",5)}function Z(n,r){if(1&n){const o=t.EpF();t.TgZ(0,"product",9),t.NdJ("toggleItem",function(s){return t.CHM(o),t.oxw(2).toggleItem(s)}),t.qZA()}if(2&n){const o=r.$implicit,e=t.oxw(2);t.Q6J("product",o)("active",e.findOnList(o))}}function O(n,r){1&n&&(t.TgZ(0,"h2"),t._uU(1,"Nenhum produto encontrado"),t.qZA())}function I(n,r){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,Z,1,2,"product",7),t.YNc(2,O,2,0,"h2",8),t.qZA()),2&n){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.products),t.xp6(1),t.Q6J("ngIf",!(null!=o.products&&o.products.length))}}const T=[{path:"",component:m.e,children:[{path:"",component:(()=>{class n{constructor(o,e){var s;this.mockyService=o,this.platformId=e,this.loading=!0,this.itens=[{label:"Home",url:"/"}],this.originalRequest=[],this.products=[],this.list=[],this.isServer=(0,a.PM)(this.platformId),this.isServer||(this.localForage=null===(s=i(8965))||void 0===s?void 0:s.default)}ngOnInit(){var o=this;return(0,u.Z)(function*(){o.products=yield o.getProducts(),o.originalRequest=o.products,o.isServer||(o.list=(yield o.localForage.getItem("products"))||[]),o.loading=!1})()}findOnList(o){return!!this.list.find(e=>e.id===o.id)}search(o){this.loading=!0,this.products=(null==o?void 0:o.length)?this.originalRequest.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())):this.originalRequest,this.loading=!1}toggleItem({active:o,product:e}){var s=this;return(0,u.Z)(function*(){o?s.list.push(e):s.list=s.list.filter(c=>c.id!==e.id),yield s.localForage.setItem("products",s.list)})()}getProducts(){var o=this;return(0,u.Z)(function*(){try{return yield o.mockyService.getProducts()}catch(e){return console.error(e),[]}})()}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(P),t.Y36(t.Lbi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["products-page"]],decls:5,vars:3,consts:[["id","products-page",1,"container"],[3,"itens"],[1,"content"],["size","big",4,"ngIf"],["class","products-list",4,"ngIf"],["size","big"],[1,"products-list"],[3,"product","active","toggleItem",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"product","active","toggleItem"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"breadcrumb",1),t.TgZ(2,"div",2),t.YNc(3,x,1,0,"loader",3),t.YNc(4,I,3,2,"div",4),t.qZA(),t.qZA()),2&o&&(t.xp6(1),t.Q6J("itens",e.itens),t.xp6(2),t.Q6J("ngIf",e.loading),t.xp6(1),t.Q6J("ngIf",!e.loading))},directives:[y.L,a.O5,C.R,a.sg,M.F],styles:["#products-page[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:block;text-align:center;width:100%}#products-page[_ngcontent-%COMP%]   loader[_ngcontent-%COMP%]{margin:2rem auto}#products-page[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}#products-page[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{margin:0 -1rem;display:flex;flex-wrap:wrap;width:100%;align-items:center;justify-content:flex-start}@media (max-width: 767px){#products-page[_ngcontent-%COMP%]   .products-list[_ngcontent-%COMP%]{justify-content:center;margin:0}}"]}),n})()},{path:"soon",component:(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["soon-page"]],decls:6,vars:0,consts:[[1,"container"],[1,"fas","fa-exclamation-triangle"],["routerLink","/"]],template:function(o,e){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h1"),t._UZ(2,"i",1),t._uU(3," P\xe1gina em constru\xe7\xe3o "),t.qZA(),t.TgZ(4,"a",2),t._uU(5,"Voltar para a Home"),t.qZA(),t.qZA())},directives:[l.yS],styles:["h1[_ngcontent-%COMP%]{text-align:center}a[_ngcontent-%COMP%]{text-align:center;display:block}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:space-between;justify-content:space-evenly;height:300px}"]}),n})()}]}];let b=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(T)],l.Bz]}),n})();var A=i(4466);let J=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[a.ez,b,A.m,p.JF,l.Bz]]}),n})()}}]);